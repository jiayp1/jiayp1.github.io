{
  "version": 3,
  "file": "components.css",
  "sources": [
    "ProgressLine.svelte",
    "SideLeft.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n    export let dotSize = 13;\r\n    export let leftSize = 8;\r\n    export let bgColor = \"#a0aec0\";\r\n</script>\r\n\r\n<div class=\"w-full flex items-center justify-center\">\r\n    <div\r\n        class=\"lds-ellipsis\"\r\n        style=\" --t-size: {leftSize * 3 + 'px'};--bg-color:{bgColor}\"\r\n    >\r\n        <div\r\n            style=\"   width: {dotSize}px;\r\n        height:  {dotSize}px; \r\n        left: {leftSize}px;\r\n        \"\r\n        />\r\n        <div\r\n            style=\"   \r\n           \r\n            width: {dotSize}px;\r\n        height:  {dotSize}px;      \r\n        left:  {leftSize}px;\r\n        \"\r\n        />\r\n        <div\r\n            style=\"   width: {dotSize}px;\r\n        height:  {dotSize}px;\r\n        left:  {leftSize *\r\n                4}px;\r\n        \"\r\n        />\r\n        <div\r\n            style=\"   width: {dotSize}px;\r\n        height:  {dotSize}px;\r\n        left:  {leftSize *\r\n                7}px;\r\n        \"\r\n        />\r\n    </div>\r\n</div>\r\n\r\n<style type=\"text/postcss\">\r\n    .lds-ellipsis {\r\n        display: inline-block;\r\n        position: relative;\r\n        width: 60px;\r\n    }\r\n    .lds-ellipsis div {\r\n        position: absolute;\r\n        border-radius: 50%;\r\n        background: var(--bg-color);\r\n        animation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n    }\r\n    .lds-ellipsis div:nth-child(1) {\r\n        animation: lds-ellipsis1 0.6s infinite;\r\n    }\r\n    .lds-ellipsis div:nth-child(2) {\r\n        animation: lds-ellipsis2 0.6s infinite;\r\n    }\r\n    .lds-ellipsis div:nth-child(3) {\r\n        animation: lds-ellipsis2 0.6s infinite;\r\n    }\r\n    .lds-ellipsis div:nth-child(4) {\r\n        animation: lds-ellipsis3 0.6s infinite;\r\n    }\r\n    @keyframes lds-ellipsis1 {\r\n        0% {\r\n            transform: scale(0);\r\n        }\r\n        100% {\r\n            transform: scale(1);\r\n        }\r\n    }\r\n    @keyframes lds-ellipsis3 {\r\n        0% {\r\n            transform: scale(1);\r\n        }\r\n        100% {\r\n            transform: scale(0);\r\n        }\r\n    }\r\n    @keyframes lds-ellipsis2 {\r\n        0% {\r\n            transform: translate(0, 0);\r\n        }\r\n        100% {\r\n            transform: translate(var(--t-size), 0);\r\n        }\r\n    }\r\n</style>\r\n",
    "<script>\r\n    import {tags, pin, pins, count, rename} from \"../request/fetchApi\";\r\n    import {\r\n        pagedd,\r\n        countStore,\r\n        tagStore,\r\n        searchNenoByDate,\r\n        searchNenoByTag,\r\n        reload,\r\n    } from \"../store/store.js\";\r\n    import GreenMap from \"./GreenMap.svelte\";\r\n    import TagExpand from \"./TagExpand.svelte\";\r\n\r\n    import {onMount} from \"svelte\";\r\n    import dayjs from \"dayjs\";\r\n\r\n    let allTags = [];\r\n    let pinTags = [];\r\n\r\n    onMount(() => {\r\n        countcount();\r\n        getPins();\r\n        reload.subscribe((value) => {\r\n            if (value.tag && value.action == \"nenoCount\") {\r\n                countcount();\r\n                getPins();\r\n            }\r\n        })\r\n    });\r\n\r\n    function getTags() {\r\n        tags()\r\n            .then((respone) => {\r\n                let re = respone;\r\n                let tempTags = re.body;\r\n                $countStore.tagCount = tempTags.length;\r\n                $tagStore.allTags = tempTags;\r\n                allTags = filterTagtree(tempTags);\r\n            })\r\n            .catch((reason) => {\r\n                console.log(reason);\r\n            });\r\n    }\r\n\r\n    function filterTagtree(allTags) {\r\n        let splitAllTags = [];\r\n\r\n        allTags.forEach((element) => {\r\n            splitAllTags = [...splitAllTags, element];\r\n        });\r\n\r\n        var tagP = [];\r\n        for (var tagIndex in splitAllTags) {\r\n            var tagSplit = splitAllTags[tagIndex].split(\"/\");\r\n            var subtag = \"\";\r\n            for (var i in tagSplit) {\r\n                var simpletag = tagSplit[i];\r\n                var s = subtag ? subtag + \"/\" + simpletag : simpletag;\r\n                tagP[s] = {\r\n                    showTag: simpletag,\r\n                    tag: s,\r\n                    parentTag: subtag,\r\n                    children: [],\r\n                };\r\n                subtag = s;\r\n            }\r\n        }\r\n\r\n        var subtag;\r\n        var c = [];\r\n        for (var index in tagP)\r\n            (subtag = tagP[index]).parentTag\r\n                ? tagP[subtag.parentTag].children.push(subtag)\r\n                : c.push(subtag);\r\n\r\n        return c;\r\n    }\r\n\r\n    function getPins() {\r\n        pins()\r\n            .then((respone) => {\r\n                let re = respone;\r\n                pinTags = re.body;\r\n                getTags();\r\n            })\r\n            .catch((reason) => {\r\n                console.log(reason);\r\n            });\r\n    }\r\n\r\n    function pinNeno(tag, isPin) {\r\n        if (isPin) {\r\n            pinTags = [...pinTags, {_id: \"\", tag: tag}];\r\n            allTags = allTags.filter((item) => {\r\n                return item != tag;\r\n            });\r\n        } else {\r\n            pinTags = pinTags.filter((item) => {\r\n                return item.tag != tag;\r\n            });\r\n            allTags = [...allTags, tag];\r\n        }\r\n\r\n        pin({tag: tag})\r\n            .then((respone) => {\r\n                let re = respone;\r\n            })\r\n            .catch((reason) => {\r\n                console.log(reason);\r\n            });\r\n    }\r\n\r\n    function countcount(params) {\r\n        count()\r\n            .then((respone) => {\r\n                let re = respone;\r\n                $countStore.nenoCount = re.body.count;\r\n                delete re.body.countDate._id;\r\n\r\n                $countStore.countDate = re.body.countDate;\r\n                let dayCount = 0;\r\n                if (Object.keys($countStore.countDate).length >= 1) {\r\n                    dayCount = dayjs().diff(\r\n                        Object.keys($countStore.countDate)[0],\r\n                        \"day\"\r\n                    );\r\n                }\r\n                $countStore.dayCount = dayCount;\r\n            })\r\n            .catch((reason) => {\r\n                console.log(reason);\r\n            });\r\n    }\r\n\r\n    function renameName(detail) {\r\n        rename({oldTag: detail.oldTag, newTag: detail.newTag})\r\n            .then((respone) => {\r\n                getPins();\r\n            })\r\n            .catch((reason) => {\r\n                console.log(reason);\r\n            });\r\n    }\r\n</script>\r\n\r\n<div class=\"w-full flex flex-col overflow-auto  overflow-visible h-screen\">\r\n    <div\r\n            class=\"flex  items-center justify-between  text-gray-600 w-full p-4 font-bold\"\r\n    >\r\n        <div class=\"flex  items-center justify-between space-x-2\">\r\n            <div>NENO</div>\r\n\r\n            <a href=\"https://github.com/Mran/neno\" target=\"_blank\">\r\n                <i class=\"ri-github-fill ri-xl\"/></a\r\n            >\r\n        </div>\r\n        <button\r\n                class=\"focus:outline-none\"\r\n                on:click={() => {\r\n                $pagedd = \"setting\";\r\n            }}\r\n        >\r\n            <i class=\"ri-settings-fill\"/>\r\n        </button>\r\n    </div>\r\n    <GreenMap\r\n            countDate={$countStore.countDate}\r\n            on:greenmapClick={(event) => {\r\n            $searchNenoByDate.date = event.detail;\r\n        }}\r\n    />\r\n\r\n    <div class=\"flex justify-around  w-full mt-4 text-gray-500\">\r\n        <div class=\"font-bold text-lg\">\r\n            <div class=\"text-xl\">{$countStore.nenoCount}</div>\r\n            NENO\r\n        </div>\r\n        <div class=\"font-bold text-lg\">\r\n            <div class=\"text-xl\">{$countStore.tagCount}</div>\r\n            TAGS\r\n        </div>\r\n        <div class=\"font-bold text-lg\">\r\n            <div class=\"text-xl\">{$countStore.dayCount}</div>\r\n            DAY\r\n        </div>\r\n    </div>\r\n    <div class=\"flex flex-col items-start text-sm text-gray-600 w-full mt-2\">\r\n        <button\r\n                on:click={() => {\r\n                $pagedd = \"neno\";\r\n                $searchNenoByTag.tag = \"\";\r\n            }}\r\n                class=\"{'     w-full    flex  items-center justify-start  rounded-r  p-4 focus:outline-none hover:text-white hover:bg-green-400 ' +\r\n                ($pagedd == 'neno' ? 'bg-green-500 text-white' : '')}        \"\r\n        >\r\n            <i class=\"ri-quill-pen-fill mr-2\"/>NENO\r\n        </button\r\n        >\r\n\r\n        <button\r\n                on:click={() => {\r\n                $pagedd = \"daily\";\r\n            }}\r\n                class=\"{'     w-full    flex  items-center justify-start  rounded-r  p-4 focus:outline-none hover:text-white hover:bg-green-400 ' +\r\n                ($pagedd == 'daily' ? 'bg-green-500 text-white' : '')}        \"\r\n        >\r\n            <i class=\"ri-calendar-event-fill mr-2\"/>每日回顾\r\n        </button\r\n        >\r\n        <button\r\n                on:click={() => {\r\n                $pagedd = \"luck\";\r\n            }}\r\n                class=\"{'     w-full    flex  items-center justify-start  rounded-r  p-4 focus:outline-none hover:text-white hover:bg-green-400 ' +\r\n                ($pagedd == 'luck' ? 'bg-green-500 text-white' : '')}        \"\r\n        >\r\n            <i class=\"ri-bubble-chart-fill mr-2\"/>随机漫步\r\n        </button\r\n        >\r\n    </div>\r\n\r\n    {#if pinTags.length != 0}\r\n        <div class=\" p-4 w-full text-sm text-yellow-500\">置顶</div>\r\n\r\n        {#each pinTags as {_id, tag}}\r\n            <button\r\n                    class=\"rounded-r  group p-4 pt-2 pb-2  focus:outline-none w-full hover:text-white hover:bg-green-400 flex justify-between text-sm\"\r\n                    class:bg-green-500={$searchNenoByTag.tag == tag}\r\n                    class:text-white={$searchNenoByTag.tag == tag}\r\n                    on:click={() => {\r\n                    $searchNenoByTag.tag = tag;\r\n                }}\r\n            >\r\n                <div class=\"flex\">\r\n                    <div class=\"\"><i class=\"ri-hashtag\"/></div>\r\n                    <div class=\"ml-1\">\r\n                        {tag.indexOf(\"#\") == 0 ? tag.substring(1) : tag}\r\n                    </div>\r\n                </div>\r\n                <button\r\n                        class=\"focus:outline-none group-hover:opacity-100 opacity-0  pl-2 pr-2\"\r\n                        on:click={() => {\r\n                        pinNeno(tag, false);\r\n                    }}\r\n                >\r\n                    <i class=\"ri-pushpin-fill\"/>\r\n                </button>\r\n            </button>\r\n        {/each}\r\n    {/if}\r\n\r\n    {#if allTags.length != 0}\r\n        <div class=\"  p-4 pt-2 pb-2 w-full text-sm text-blue-500\">标签</div>\r\n\r\n        {#each allTags as tag}\r\n            <TagExpand\r\n                    {...tag}\r\n                    selectionTag={$searchNenoByTag.tag}\r\n                    on:selectTag={(event) => {\r\n                    $searchNenoByTag.tag = event.detail;\r\n                }}\r\n                    on:pinTag={(event) => {\r\n                    pinNeno(event.detail, true);\r\n                }}\r\n                    on:renameTag={(event) => {\r\n                    renameName(event.detail);\r\n                }}\r\n            />\r\n        {/each}\r\n    {/if}\r\n</div>\r\n\r\n<style>\r\n    ::-webkit-scrollbar {\r\n        width: 0 !important;\r\n    }\r\n</style>\r\n"
  ],
  "names": [],
  "mappings": "AA2CI,aAAa,4BAAC,CAAC,AACX,OAAO,CAAE,YAAY,CACrB,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,AACf,CAAC,AACD,2BAAa,CAAC,GAAG,cAAC,CAAC,AACf,QAAQ,CAAE,QAAQ,CAClB,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,IAAI,UAAU,CAAC,CAC3B,yBAAyB,CAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,AACvD,CAAC,AACD,2BAAa,CAAC,iBAAG,WAAW,CAAC,CAAC,AAAC,CAAC,AAC5B,SAAS,CAAE,2BAAa,CAAC,IAAI,CAAC,QAAQ,AAC1C,CAAC,AACD,2BAAa,CAAC,iBAAG,WAAW,CAAC,CAAC,AAAC,CAAC,AAC5B,SAAS,CAAE,2BAAa,CAAC,IAAI,CAAC,QAAQ,AAC1C,CAAC,AACD,2BAAa,CAAC,iBAAG,WAAW,CAAC,CAAC,AAAC,CAAC,AAC5B,SAAS,CAAE,2BAAa,CAAC,IAAI,CAAC,QAAQ,AAC1C,CAAC,AACD,2BAAa,CAAC,iBAAG,WAAW,CAAC,CAAC,AAAC,CAAC,AAC5B,SAAS,CAAE,2BAAa,CAAC,IAAI,CAAC,QAAQ,AAC1C,CAAC,AACD,WAAW,2BAAc,CAAC,AACtB,EAAE,AAAC,CAAC,AACA,SAAS,CAAE,MAAM,CAAC,CAAC,AACvB,CAAC,AACD,IAAI,AAAC,CAAC,AACF,SAAS,CAAE,MAAM,CAAC,CAAC,AACvB,CAAC,AACL,CAAC,AACD,WAAW,2BAAc,CAAC,AACtB,EAAE,AAAC,CAAC,AACA,SAAS,CAAE,MAAM,CAAC,CAAC,AACvB,CAAC,AACD,IAAI,AAAC,CAAC,AACF,SAAS,CAAE,MAAM,CAAC,CAAC,AACvB,CAAC,AACL,CAAC,AACD,WAAW,2BAAc,CAAC,AACtB,EAAE,AAAC,CAAC,AACA,SAAS,CAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,AAC9B,CAAC,AACD,IAAI,AAAC,CAAC,AACF,SAAS,CAAE,UAAU,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,AAC1C,CAAC,AACL,CAAC;eCwLD,mBAAmB,AAAC,CAAC,AACjB,KAAK,CAAE,CAAC,CAAC,UAAU,AACvB,CAAC"
}